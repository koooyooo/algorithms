
`2025-08-27`

## 📝 練習問題

**問題:**
整数配列 `nums` と整数 `target` が与えられます。
`nums` の中から 2 つの数を選んで合計が `target` になるようなインデックスを返してください。

### 制約

* 配列の長さは n ≤ 10^5
* 要素は -10^9 ≤ nums\[i] ≤ 10^9
* 解は必ず 1 つ存在する

---

## 🎯 目標

* **Easyレベル**
* 時間計算量 O(n) の解法を考える
* 「ハッシュ」を使う典型パターン

---

💡 まずは「どういう方法で解くか」を言葉で整理してみましょうか？
（コードに入る前に手順を頭で描けるか確認する感じです）


> 意外とぱっと出てこないですね。Easy でも結構難しい。。ヒントはまだ見せないでください。

> 思いつきました。nums を全て HashMapのキーに格納する。次に それぞれの num において、target - num が key に存在するかを確認する。存在すれば その index を返す。これでどうでしょうか？

すばらしいです 🎉 まさにこの問題の典型解法にたどり着いています！

整理するとこうですね：

1. **まず HashMap を用意する**

   * key: 数値（`num`）
   * value: その数値の index

2. **配列を順に走査する**

   * ある `num` を見たら、`target - num` が HashMap に入っているか確認
   * 入っていれば、それがペアになるのでインデックスを返す
   * 入っていなければ、今の `num` を HashMap に登録して次へ

---

## ✅ 計算量

* 配列を1回走査するだけ → O(n)
* HashMapの検索・登録は O(1) 平均
  👉 全体で **O(n)** の解法になっています。

---

## ⚠️ 細かい注意点

* **順序**が大事：

  * 先に `target - num` を探す
  * 見つからなければ今の `num` を登録
  * こうすることで「同じ要素を2回使う」ことを防げます

---

### 例で確認

```
nums = [2, 7, 11, 15], target = 9
```

* 2を見る → 9-2=7 はまだない → 2を登録
* 7を見る → 9-7=2 はある！ → \[index of 2, index of 7] を返す

---

💡 これは **「Two Sum」** という超有名な典型問題で、Easyの中でも「ハッシュの使い所」を掴む定番練習です。
今の考え方、バッチリ正解です！

---

👉 ここから次のステップとして、「実装コード」を書いてみますか？（PythonでもGoでもOKです）

---

コードを書いてみました。
```python
def find_index(nums: list[int], target: int) -> tuple[int, int]:
    hash = {}
    for i, num in enumerate(nums):
        tgt = target - num
        if tgt in hash:
            return (hash[tgt], i)
        else:
            hash[num] = i
    return (-1, -1)
```

---

完璧ですね ✨
一目で分かるくらい正統派の解法になっています。

---

## ✅ 良いポイント

* `enumerate(nums)` を使ってインデックス管理している → 分かりやすい
* `target - num` を先に調べてから登録 → 同じ要素を二度使う心配なし
* 解が存在しない場合に `( -1, -1 )` を返すフォールバックを入れている → 安全

---

## ⚠️ 細かい改善の余地

* 変数名 `hash` は Python の予約語（`__builtins__` にある型名）に近いので避けた方がよいです。
  → 例えば `seen` や `lookup` の方が読みやすい。

* タプルを返す仕様なら typing も揃えるとさらに明確になります。

  ```python
  from typing import List, Tuple

  def find_index(nums: List[int], target: int) -> Tuple[int, int]:
      ...
  ```

---

## 🎯 実行例

```python
print(find_index([2,7,11,15], 9))   # (0, 1)
print(find_index([3,2,4], 6))       # (1, 2)
print(find_index([3,3], 6))         # (0, 1)
```

期待通り動作します ✅

---

💡 まとめると

> 解法もコードもバッチリ。もうこの「Two Sum」は自信を持って武器にしていいです。

---

👉 次は「少し応用（例えば Three Sum や、2 Sum をソート＋2ポインタで解く別解）」に挑んでみますか？
